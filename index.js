const {Telegraf, Markup} = require('telegraf')
require('dotenv').config()
const { CronJob } = require ('cron')

const bot = new Telegraf(process.env.BOT_TOKEN)

const gift = `
<a href="https://youtu.be/VJz4NZgc3Fo?si=Io1PylmOGYUDi1ox">–í–∏–¥–µ–æ –ø—Ä–∞–∫—Ç–∏–∫–∞ ‚Äú–®–µ—è –∏ –¥–µ–∫–æ–ª—å—Ç–µ‚Äú</a>
`


bot.start(async (ctx) => {



    await ctx.replyWithPhoto({source: './img/Katya_invitation1.png'})

    await ctx.replyWithHTML(`<b>–ü—Ä–∏–≤–µ–µ—Ç!!!</b>\n\n` +
        `–≠—Ç–æ –±–æ—Ç-–ø–æ–º–æ—â–Ω–∏–∫ <i>–ï–∫–∞—Ç–µ—Ä–∏–Ω—ã –ì–∞—Ä–Ω–∏—Ü–∫–æ–π –∏ –±–æ–ª—å—à–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ –æ –∫—Ä–∞—Å–æ—Ç–µ –∏ –∑–¥–æ—Ä–æ–≤—å–µ HumanWoman</i>.\n\n` +
        `–ò –∑–¥–µ—Å—å —Ç–µ–±—è –∂–¥—ë—Ç –ø–æ–¥–∞—Ä–æ–∫ üéÅ- —É—Ä–æ–∫ –ø–æ <b>"–°–∞–º–æ–º–∞—Å—Å–∞–∂—É —à–µ–∏ –∏ –¥–µ–∫–æ–ª—å—Ç–µ —Å–∫—Ä–µ–±–∫–æ–º –ì—É–∞—à–∞"</b> ! –ù–æ –ø—Ä–µ–∂–¥–µ —á–µ–º –µ–≥–æ –∑–∞–±—Ä–∞—Ç—å, –¥–∞–≤–∞–π –ø–æ–∑–Ω–∞–∫–æ–º–∏–º—Å—è:‚ù§Ô∏è`,
    )


    setTimeout(async () => {

            await ctx.replyWithPhoto({source: './img/Katya_invitation2.jpg'})

            await ctx.replyWithHTML(`–Ø ‚Äì <b>–ï–∫–∞—Ç–µ—Ä–∏–Ω–∞ –ì–∞—Ä–Ω–∏—Ü–∫–∞—è</b>, —Å–æ–∑–¥–∞—Ç–µ–ª—å –±–æ–ª—å—à–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ Human Woman –æ ` +
                `–∂–µ–Ω—Å–∫–æ–π –∫—Ä–∞—Å–æ—Ç–µ –∏ –∑–¥–æ—Ä–æ–≤—å–µ –∏ –∞–≤—Ç–æ—Ä –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–∞—Ä–∞—Ñ–æ–Ω–æ–≤:  ‚Äú–†–µ—Ç—Ä–∏—Ç –ì—É–∞—à–∞‚Äù, ‚Äú–î—ã—Ö–∞–Ω–∏–µ –∂–∏–∑–Ω–∏‚Äú, ‚ÄúPRO –ì—Ä—É–¥—å‚Äù. \n\n` +
                `‚úîÔ∏è —Å–µ—Ä—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –ø–æ –Ω–µ–∏–Ω–≤–∞–∑–∏–≤–Ω—ã–º –º–µ—Ç–æ–¥–∞–º –æ–º–æ–ª–æ–∂–µ–Ω–∏—è (–ì—É–∞—à–∞, –æ—Å–µ—Ç–æ—ç—Å—Ç–µ—Ç–∏–∫–∞, —Ç—Ä–∞–Ω—Å–±—É–∫–∫–∞–ª—å–Ω—ã–π, –º–∏–æ—Ñ–∞—Å—Ü–∏–∞–ª—å–Ω—ã–π –∏ –ª–∏–º—Ñ–æ–¥—Ä–µ–Ω–∞–∂–Ω—ã–π –º–∞—Å—Å–∞–∂–∏, –∞—Å–∞—Ö–∏, faceyoga, —Ç—ç–π–ø–∏—Ä–æ–≤–∞–Ω–∏–µ)\n` +
                `‚úîÔ∏è –ø—Ä–∞–∫—Ç–∏–∫—É—é—â–∏–π –æ—Å—Ç–µ–æ–ø–∞—Ç\n` +
                `‚úîÔ∏è —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç –ø–æ –ø–æ—Å–ª–µ—Ä–æ–¥–æ–≤–æ–º—É –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—é –∏ —Ç–µ–ª–µ—Å–Ω–æ-—ç–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–º—É –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—é\n` +
                `‚úîÔ∏è —ç–º–±–æ–¥–∏–º–µ–Ω—Ç –ø—Ä–∞–∫—Ç–∏–∫\n`
            )

            await ctx.replyWithHTML('–ù–∞–¥–µ—é—Å—å, —á—Ç–æ –º–æ–∏ –∑–Ω–∞–Ω–∏—è –∏ –æ–ø—ã—Ç, –º–æ–∏ –ø—Ä–æ–µ–∫—Ç—ã, –±—É–¥—É—Ç —Ç–µ–±–µ –≤ —Ä–∞–¥–æ—Å—Ç—å –∏ –ø–æ–º–æ—â—å, –∞ –ø–æ–∫–∞ —Å–∫–æ—Ä–µ–µ –∑–∞–±–∏—Ä–∞–π –ø–æ–¥–∞—Ä–æ–∫ ‚¨áÔ∏è', Markup.inlineKeyboard(
                [
                    [Markup.button.callback('–ü–æ–ª—É—á–∏—Ç—å –ø–æ–¥–∞—Ä–æ–∫!', 'gift')],
                ]
            ))
        },
        8000
    )

})


bot.action(['getMainMenu'], (ctx) => {

    console.log("Main menu requested")

    ctx.replyWithHTML(`<b>–ú–µ–Ω—é:</b> \n`,
        mainMenu()
    )

})


bot.action(['feedback', 'access', 'prices', 'getCourse'], async ctx => {


//–ü–†–û–ì–†–ê–ú–ú–ê –ö–£–†–°–ê –ò –û–¢–ó–´–í–´

    if (ctx.callbackQuery.data === 'feedback') {

        await ctx.replyWithPhoto({source: './img/feedback/feedback1.jpg'})
        await ctx.replyWithPhoto({source: './img/feedback/feedback2.jpg'})
        await ctx.replyWithPhoto({source: './img/feedback/feedback3.jpg'})
        await ctx.replyWithPhoto({source: './img/feedback/feedback4.jpg'})
        await ctx.replyWithPhoto({source: './img/feedback/feedback5.jpg'})
        await ctx.replyWithPhoto({source: './img/feedback/feedback6.jpg'})

        await ctx.replyWithHTML(`<b>–ü–†–û–ì–†–ê–ú–ú–ê –ö–£–†–°–ê <u>¬´–†–µ—Ç—Ä–∏—Ç —Å –ì—É–∞—à–∞¬ª:</u></b> \n` +
            `‚ûù –í–≤–æ–¥–Ω–∞—è –ª–µ–∫—Ü–∏—è –ø–æ –∞–Ω–∞—Ç–æ–º–∏–∏ –ª–∏—Ü–∞\n` +
            `‚ûù 7 –≤–∏–¥–µ–æ-–ø—Ä–∞–∫—Ç–∏–∫ —Å–æ —Å–∫—Ä–µ–±–∫–æ–º –ì—É–∞—à–∞\n` +
            `‚ûù –û–±—â–∏–π –∫–æ–º–ø–ª–µ–∫—Å –Ω–∞ –∫–∞–∂–¥—ã–π –¥–µ–Ω—å —Å –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ–º –≤—Å–µ—Ö —Ç–µ—Ö–Ω–∏–∫ –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞\n` +
            `‚ûù –õ–∏–º—Ñ–æ–¥—Ä–µ–Ω–∞–∂–Ω—ã–π –±–ª–æ–∫\n` +
            `‚ûù –¢–µ—Ö–Ω–∏–∫–∞ SMAS –ª–∏—Ñ—Ç–∏–Ω–≥–∞ –ø—Ä–∏ –ø–æ–º–æ—â–∏ –ì—É–∞—à–∞\n` +
            `‚ûù –≠–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å—Å–ª–∞–±–ª–µ–Ω–∏–µ –ª–∏—Ü–∞\n` +
            `‚ûù –ë—å—é—Ç–∏-–º–µ–¥–∏—Ç–∞—Ü–∏—è\n` +
            `‚ûù –†–∞–±–æ—Ç–∞ —Å –¥—ã—Ö–∞–Ω–∏–µ–º –∏ –¥–∏–∞—Ñ—Ä–∞–≥–º–æ–π\n` +
            `‚ûù –û—Å—Ç–µ–æ–ø–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞: —Ä–∞–±–æ—Ç–∞ —Å –æ–≤–∞–ª–æ–º –ª–∏—Ü–∞\n`,

        )


        setTimeout(async () => {
            await ctx.replyWithHTML(`<b>–ö–∞–∫ —Ç–µ–±–µ?</b> \n` +
                `–ï—Å–ª–∏ —Ç—ã –µ—â–µ –Ω–µ —Å–¥–µ–ª–∞–ª–∞ –ø—Ä–∞–∫—Ç–∏–∫—É <b>¬´–î–µ–∫–æ–ª—å—Ç–µ-—à–µ—è-–∫–ª—é—á–∏—Ü—ã¬ª</b>, —Ç–æ –º–æ–∂–µ—à—å –ø—Ä–∏—Å—Ç—É–ø–∏—Ç—å –∫ –Ω–µ–π –ø—Ä—è–º–æ —Å–µ–π—á–∞—Åüî•üî•üî•\n` +
                `–ü–µ—Ä–µ—Ö–æ–¥–∏ –ø–æ <a href='https://youtu.be/VJz4NZgc3Fo'>—Å—Å—ã–ª–∫–µ</a>`,
                mainMenuLimited(),
                {disable_web_page_preview: true},
            )
        }, 5000)
    }

    //–§–û–†–ú–ê–¢ –ò –î–û–°–¢–£–ü

    if (ctx.callbackQuery.data === 'access') {

        await ctx.replyWithPhoto({source: './img/access.jpg'})
            await ctx.replyWithHTML(
                `<u>–ö—É—Ä—Å –≤ –∑–∞–ø–∏—Å–∏</u>, –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã. –í—Å–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω–æ —Ä–∞–∑–º–µ—â–µ–Ω—ã –≤ <b>–∑–∞–∫—Ä—ã—Ç–æ–º Telegram-–∫–∞–Ω–∞–ª–µ.</b>\n\n` +
                `–î–æ—Å—Ç—É–ø –∫ –∫—É—Ä—Å—É - <u>6 –º–µ—Å—è—Ü–µ–≤</u>`
            )
    }


    //–¢–ê–†–ò–§–´ –ò –°–¢–û–ò–ú–û–°–¢–¨

    if (ctx.callbackQuery.data === 'prices') {

        await ctx.replyWithHTML(
            `<b>‚óÜ –¢–ê–†–ò–§ –°–¢–ê–ù–î–ê–†–¢–ù–´–ô - 50‚Ç¨</b>\n` +
            `‚ñ´Ô∏è–¥–æ—Å—Ç—É–ø –∫ –∑–∞–∫—Ä—ã—Ç–æ–º—É Telegram-–∫–∞–Ω–∞–ª—É —Å–æ –≤—Å–µ–º–∏ –≤–∏–¥–µ–æ-–ø—Ä–∞–∫—Ç–∏–∫–∞–º–∏ –∏ –±–æ–Ω—É—Å–∞–º–∏\n\n` +
            `<b>‚óÜ –¢–ê–†–ò–§ VIP - 80‚Ç¨</b>\n` +
            `–≤–∫–ª—é—á–∞–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –¥–≤—É—Ö—á–∞—Å–æ–≤—É—é –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—É—é –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é —Å –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–æ–π –∏ –ø—Ä–∞–∫—Ç–∏–∫–æ–π:\n` +
            `‚ñ´Ô∏è—É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è,\n` +
            `‚ñ´Ô∏è–≥–ª—É–±–æ–∫–æ—Ç–∫–∞–Ω–Ω—ã–π –º–∞—Å—Å–∞–∂,\n` +
            `‚ñ´Ô∏è—Ç–µ—Ö–Ω–∏–∫–∏ –æ—Å—Ç–µ–æ–∫–æ—Ä—Ä–µ–∫—Ü–∏–∏,\n` +
            `‚ñ´Ô∏è–±—É–∫–∫–∞–ª—å–Ω—ã–π —Å–∞–º–æ–º–∞—Å—Å–∞–∂.\n\n` +
            `–ó–∞–ø–∏—Å—ã–≤–∞–π—Å—è –Ω–∞ –†–µ—Ç—Ä–∏—Ç –∏ –ø—Ä–æ—Ö–æ–¥–∏ –µ–≥–æ –≤ –ª—é–±–æ–µ —É–¥–æ–±–Ω–æ–µ –¥–ª—è —Ç–µ–±—è –≤—Ä–µ–º—è! üî•‚ù§Ô∏è`,
            getSubMenu1(),

        )
        await ctx.replyWithHTML("–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é:",
            getMainMenu()
        )



    }

    //–ó–ê–ü–ò–°–ê–¢–¨–°–Ø –ù–ê –ö–£–†–°

    if (ctx.callbackQuery.data === 'getCourse') {

        await ctx.replyWithPhoto({source: './img/getcourse.jpg'})

        await ctx.replyWithHTML(
            `–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–æ–ø–∞—Å—Ç—å –Ω–∞ –∫—É—Ä—Å, –Ω–∞–ø–∏—à–∏ –º–Ω–µ –≤ –ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è Telegram <a href='https://t.me/MetaOsteobeauty'> @MetaOsteobeauty: </a> \n ` +
            `1.–í—ã–±—Ä–∞–Ω–Ω—ã–π –¢–∞—Ä–∏—Ñ (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π/VIP)\n` +
            `2. –í–∞–ª—é—Ç—É –ø–ª–∞—Ç–µ–∂–∞ (BYN/Euro/PLN)\n\n` +
            `–°–ø–∞—Å–∏–±–æ —Ç–µ–±–µ –∑–∞ —Ç–≤–æ–π –≤—ã–±–æ—Ä!üôè`,
            {
                disable_web_page_preview: true
            },
        )

        await ctx.replyWithHTML("–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é:",
            getMainMenu()
        )

    }



//cron reminders start

    const reminder30march = new CronJob(
        '03 18 30 3 *', // cronTime
        async function () {
            await ctx.replyWithHTML(
                `–ü—Ä–∏–≤–µ—Ç, —ç—Ç–æ –ö–∞—Ç—è!\n\n` +
                `–ò –º–æ–µ –±–µ—Ä–µ–∂–Ω–æ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ —Ç–µ–±–µ, —á—Ç–æ –¥–æ –∑–∞–≤—Ç—Ä–∞ –º–æ–∂–Ω–æ –∑–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –∫—É—Ä—Å –ø–æ —Å–Ω–∏–∂–µ–Ω–Ω–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏ üíõüôè\n\n` +
                `–î–ª—è –ø—Ä–∏–æ–±—Ä–µ—Ç–µ–Ω–∏—è –Ω–∞–ø–∏—à–∏ –º–Ω–µ –≤ –ª–∏—á–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è, –ø–µ—Ä–µ–π–¥—è –ø–æ —Å—Å—ã–ª–∫–µ<a href='https://t.me/MetaOsteobeauty'> @MetaOsteobeauty: </a> \n\n ` +
                `–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –æ –∫—É—Ä—Å–µ –≤—ã–±–µ—Ä–∏ –ø—É–Ω–∫—Ç –∏–∑ –º–µ–Ω—é:`,
                {
                    disable_web_page_preview: true
                },
            )
            await ctx.replyWithHTML("–ú–µ–Ω—é:",
                mainMenu()
            )
        }, // onTick
        null, // onComplete
        true, // start
    );


    const reminder31march = new CronJob(
        '59 17 31 3 *', // cronTime
        async function () {
            await ctx.replyWithHTML(
                `–î–æ—Ä–æ–≥–∞—è, —è —Å –∑–∞–±–æ—Ç–æ–π –Ω–∞–ø–æ–º–∏–Ω–∞—é —Ç–µ–±–µ, —á—Ç–æ —Å–µ–≥–æ–¥–Ω—è (31.03) –∑–∞–∫–∞–Ω—á–∏–≤–∞–µ—Ç—Å—è –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–∏–æ–±—Ä–µ—Å—Ç–∏ –¥–æ—Å—Ç—É–ø –∫ –æ–Ω–ª–∞–π–Ω-–∫—É—Ä—Å—É <b>¬´–†–µ—Ç—Ä–∏—Ç —Å –ì—É–∞—à–∞¬ª</b> <u>–ø–æ —Å–Ω–∏–∂–µ–Ω–Ω–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏</u>.\n\n` +
                `–Ø –±—É–¥—É —Å—á–∞—Å—Ç–ª–∏–≤–∞ –≤–∏–¥–µ—Ç—å —Ç–µ–±—è —Å—Ä–µ–¥–∏ —É—á–∞—Å—Ç–Ω–∏—Ü.\n` +
                `–í–æ–∑–º–æ–∂–Ω–æ, –∏–º–µ–Ω–Ω–æ —Å–µ–π—á–∞—Å –Ω–∞—Å—Ç–∞–ª —Ç–æ—Ç –º–æ–º–µ–Ω—Ç, –∫–æ–≥–¥–∞ —Å—Ç–æ–∏—Ç –ø—Ä–æ—è–≤–∏—Ç—å –ª—é–±–æ–≤—å –∫ —Å–µ–±–µ? ‚ù§Ô∏è \n\n` +
                `–î–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –æ –∫—É—Ä—Å–µ –≤—ã–±–µ—Ä–∏ –ø—É–Ω–∫—Ç –∏–∑ –º–µ–Ω—é:`
            )
            await ctx.replyWithHTML("–ú–µ–Ω—é:",
                mainMenu()
            )
        }, // onTick
        null, // onComplete
        true, // start
    );

//cron reminders end


})


/**
 * –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏—è –±–æ—Ç–æ–º
 * @param {String} id_btn –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–Ω–æ–ø–∫–∏ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
 * @param {String} src_img –ü—É—Ç—å –∫ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—é, –∏–ª–∏ false —á—Ç–æ–±—ã –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç
 * @param {String} text –¢–µ–∫—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏
 * @param {Boolean} preview –ë–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–µ–≤—å—é —É —Å—Å—ã–ª–æ–∫ –∏–ª–∏ –Ω–µ—Ç, true - –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å, false - –Ω–µ—Ç
 */
function addActionBot(id_btn, src_img, text, preview) {

    bot.action(id_btn, async (ctx) => {

        try {

            if (id_btn == 'gift') {

                // Set a timer for 5 seconds
                setTimeout(async () => {
                    await ctx.replyWithHTML(` <b> –ü–æ–Ω—Ä–∞–≤–∏–ª–∞—Å—å –ø—Ä–∞–∫—Ç–∏–∫–∞ ? </b>\n\n` +
                        `–¢—ã —Ö–æ—Ç–µ–ª–∞ –±—ã –Ω–∞—É—á–∏—Ç—å—Å—è –±–æ–ª—å—à–µ–º—É? –û–≤–ª–∞–¥–µ—Ç—å "–≤–æ–ª—à–µ–±–Ω—ã–º" –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –ì—É–∞—à–∞, —á—Ç–æ–±—ã –¥–µ–ª–∞—Ç—å —Å–∞–º–æ–º–∞—Å—Å–∞–∂ –Ω–∞ —É—Ä–æ–≤–Ω–µ –ø—Ä–æ—Ñ–∏?\n\n` +
                        `–¢–æ–≥–¥–∞ –ø–æ–∑–Ω–∞–∫–æ–º—å—Å—è —Å –∫—É—Ä—Å–æ–º –Ω–∏–∂–µ, —è - –µ–≥–æ –∞–≤—Ç–æ—Ä –∏ –≤–µ–¥—É—â–∞—è, —Å–æ–±—Ä–∞–ª–∞ —Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ, –ø—Ä–æ—Å—Ç—ã–µ, –≥–ª—É–±–æ–∫–∏–µ –∏ –ª–µ–≥–∫–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏, —á—Ç–æ–±—ã –æ—Å—É—â–µ—Å—Ç–≤–∏—Ç—å —Ç–≤–æ—é –º–µ—á—Ç—É –∑–∞–±–æ—Ç—ã –æ —Å–µ–±–µ\n` +
                        `–∏ —É–∂–µ —á–µ—Ä–µ–∑ 14 –¥–Ω–µ–π –≤ –∑–µ—Ä–∫–∞–ª–µ —É—Ç—Ä–æ–º —Ç—ã —É–≤–∏–¥–∏—à—å –Ω–æ–≤—É—é —Å–µ–±—è:`,
                        mainMenu()
                    )

                }, 30000);


            }

            await ctx.answerCbQuery()
            if (src_img !== false) {

                await ctx.replyWithPhoto({
                    source: src_img
                })
            }
            await ctx.replyWithHTML(text, {
                disable_web_page_preview: preview
            })
        } catch (e) {
            console.error(e)
        }
    })
}

// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–æ–∫ —Å –ø–æ–º–æ—â—å—é —Ñ—É–Ω–∫—Ü–∏–∏
addActionBot('gift', false, gift, false)
addActionBot('feedback', './img/feedback/feedback1.jpg', '', true)
addActionBot('btn_3', false, 'gghet', false)


//keyboards

function getMainMenu() {
    return Markup.inlineKeyboard(
        [
            [Markup.button.callback('–ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é', 'getMainMenu')],
        ]
    )

}

function mainMenu() {
    return Markup.inlineKeyboard(
        [
            [Markup.button.callback('–ü—Ä–æ–≥—Ä–∞–º–º–∞ –∫—É—Ä—Å–∞ –∏ –æ—Ç–∑—ã–≤—ã', 'feedback')],
            [Markup.button.callback('–§–æ—Ä–º–∞—Ç –∏ –¥–æ—Å—Ç—É–ø', 'access')],
            [Markup.button.callback('–¢–∞—Ä–∏—Ñ—ã –∏ —Å—Ç–æ–∏–º–æ—Å—Ç—å', 'prices')],
        ]
    )
}

function mainMenuLimited() {
    return Markup.inlineKeyboard(
        [
            [Markup.button.callback('–§–æ—Ä–º–∞—Ç –∏ –¥–æ—Å—Ç—É–ø', 'access')],
            [Markup.button.callback('–¢–∞—Ä–∏—Ñ—ã –∏ —Å—Ç–æ–∏–º–æ—Å—Ç—å', 'prices')],
        ]
    )
}


function getSubMenu1() {
    return Markup.inlineKeyboard(
        [
            [Markup.button.callback('–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –∫—É—Ä—Å', 'getCourse')],
            [Markup.button.url('–ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å', 'https://t.me/MetaOsteobeauty')],
        ]
    )
}




bot.launch()

// Enable graceful stop
process.once('SIGINT', () => bot.stop('SIGINT'))
process.once('SIGTERM', () => bot.stop('SIGTERM'))